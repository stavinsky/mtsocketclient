This is a test project. Here you can find how to use winapi to write pure socket application on windows. Also you can find sample of using std::thread, non-blocking sockets. 
Project compiles on windows, but I used OS X to develop, so I made cross compilation. 
You can use this code as you want

Building:
--enable-threads=winpthreads
OS X:

mkdir build
cd build
cmake -DCMAKE_TOOLCHAIN_FILE=mingw.txt ../
make


MSYS2:

mkdir build
cd build
cmake -G"MSYS Makefiles" ../
make